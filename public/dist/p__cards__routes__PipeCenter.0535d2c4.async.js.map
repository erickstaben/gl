{"version":3,"sources":["webpack:///./src/pages/cards/routes/PipeCenter.less?73d5","src/pages/cards/routes/PipeCenter.tsx"],"names":["module","exports","pipeCenterLayout","pipeCard","pipeDeleteIcon","favoriteIcon","pipeFavoriteIcon","pipeLink","pipeCount","pipeCountLabel","pipeName","formInput","_react","_interopRequireWildcard","__webpack_require__","_reactRouterDom","_dva","_PipeCenter","_interopRequireDefault","PipeCenter","dispatch","useDispatch","useEffect","type","payload","pipes","useSelector","state","overview","setPipeFavorite","pipe_id","path_id","deletePipe","id","handleSubmit","data","name","newPipeName","body","setVisible","saving","loading","effects","_useState","useState","_useState2","_slicedToArray2","default","setPipeName","_useState3","_useState4","modalVisible","createElement","className","style","textAlign","_row","map","pipe","_col","xs","lg","onClick","_icon","theme","is_favorite","_popconfirm","onConfirm","title","Link","to","concat","display","fontSize","totalCards","marginTop","_modal","visible","onOk","onCancel","_spin","spinning","configContainer","defaultValue","onChange","e","target","value"],"mappings":"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","file":"p__cards__routes__PipeCenter.0535d2c4.async.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"pipeCenterLayout\":\"antd-pro-pages-cards-routes-pipe-center-pipeCenterLayout\",\"pipeCard\":\"antd-pro-pages-cards-routes-pipe-center-pipeCard\",\"pipeDeleteIcon\":\"antd-pro-pages-cards-routes-pipe-center-pipeDeleteIcon\",\"favoriteIcon\":\"antd-pro-pages-cards-routes-pipe-center-favoriteIcon\",\"pipeFavoriteIcon\":\"antd-pro-pages-cards-routes-pipe-center-pipeFavoriteIcon\",\"pipeLink\":\"antd-pro-pages-cards-routes-pipe-center-pipeLink\",\"pipeCount\":\"antd-pro-pages-cards-routes-pipe-center-pipeCount\",\"pipeCountLabel\":\"antd-pro-pages-cards-routes-pipe-center-pipeCountLabel\",\"pipeName\":\"antd-pro-pages-cards-routes-pipe-center-pipeName\",\"formInput\":\"antd-pro-pages-cards-routes-pipe-center-formInput\"};","\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'dva';\r\nimport styles from './PipeCenter.less';\r\nimport { ConnectState } from '@/models/connect';\r\nimport { ID } from '@/models/database';\r\nimport { Modal, Spin, Row, Col,  Icon, Switch, Popconfirm } from 'antd';\r\n\r\n\r\nconst PipeCenter = () => {\r\n    const dispatch = useDispatch()\r\n    useEffect(() => {\r\n        dispatch({\r\n            type: 'pipes/pipesOverview',\r\n            payload: {},\r\n        })\r\n    }, [])\r\n    const pipes = useSelector((state:ConnectState) => state.pipes.overview)\r\n    const setPipeFavorite = (pipe_id:ID) => {\r\n        dispatch({\r\n            type: 'pipes/pipeFavorite',\r\n            payload: {\r\n                path_id: [pipe_id],\r\n            },\r\n        })\r\n    }\r\n    const deletePipe = (id) => {\r\n        dispatch({\r\n            type: 'pipes/pipeDelete',\r\n            payload: {\r\n                path_id: [id]\r\n            }\r\n        })\r\n        dispatch({\r\n            type: 'pipes/pipesOverview',\r\n            payload: {},\r\n        })\r\n    }\r\n    const handleSubmit = () => {\r\n        const data = {\r\n            name: newPipeName,\r\n        }\r\n        dispatch({\r\n            type: 'pipes/pipeCreate',\r\n            payload: {\r\n                body: data,\r\n            }\r\n        })\r\n        dispatch({\r\n            type: 'pipes/pipesOverview',\r\n            payload: {},\r\n        })\r\n        setVisible(false)\r\n\r\n    }\r\n    const saving = useSelector((state:any) => state.loading.effects['pipes/pipeCreate'])\r\n    const loading = useSelector((state:any) => state.loading.effects['pipes/pipeDelete'])\r\n    const [newPipeName,setPipeName] = useState('')\r\n    const [modalVisible,setVisible] = useState(false)\r\n    return (<div className={styles.pipeCenterLayout}>\r\n        <div style={{textAlign:'center'}}>\r\n            <h2>Central de pipes</h2>\r\n        </div>\r\n        <h3>Meus pipes</h3>\r\n        <Row>\r\n            {pipes ? pipes.map(pipe => <Col xs={12} lg={6}>\r\n                <div className={styles.pipeCard}>\r\n                    <span className={styles.pipeFavoriteIcon} onClick={() => setPipeFavorite(pipe.id)}>\r\n                        <Icon className={styles.favoriteIcon} theme={pipe.is_favorite ? 'filled' : 'outlined'} type=\"heart\"/>\r\n                    </span>\r\n                    <Popconfirm onConfirm={() => deletePipe(pipe.id)} title={'Você tem certeza que deseja deletar esse pipe?'}>\r\n                        <span className={styles.pipeDeleteIcon}>\r\n                            <Icon className={styles.favoriteIcon} theme={'outlined'} type=\"delete\"/>\r\n                        </span>\r\n                    </Popconfirm>\r\n                    <Link className={styles.pipeLink} to={`./pipes/${pipe.id}`}>\r\n                        <span className={styles.pipeCount}>\r\n                            <div style={{ display: 'grid', textAlign: 'center' }}>\r\n                            <span>\r\n                                <b style={{ fontSize: 36 }}>{pipe.totalCards}</b><span className={styles.pipeCountLabel}>atividades</span>\r\n                            </span>\r\n                            <span className={styles.pipeName}>\r\n                                {pipe.name}\r\n                            </span>\r\n                            </div>\r\n                        </span>\r\n                    </Link>\r\n                </div>\r\n            </Col>) : null}\r\n            <Col style={{ marginTop: 8 }}  xs={12} lg={6}>\r\n                <div className={styles.pipeCard} onClick={() => setVisible(true)}>\r\n                    <div className={styles.pipeLink}>\r\n                        <span className={styles.pipeCount}>\r\n                            <div style={{ display: 'grid' }}>\r\n                                <span style={{textAlign: 'center'}}>\r\n                                    <Icon type={'plus'} style={{fontSize: 64}}/>\r\n                                </span>\r\n                                <span className={styles.pipeName}>\r\n                                    Adicionar novo pipe\r\n                                </span>\r\n                            </div>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n            </Col>\r\n        </Row>\r\n        <Modal\r\n          title=\"Adicionar novo pipe\"\r\n          visible={modalVisible}\r\n          onOk={handleSubmit}\r\n          onCancel={() => setVisible(false)}\r\n        >\r\n            <Spin spinning={saving || loading || false} className={styles.configContainer}>\r\n                <Row>\r\n                    <div className={styles.formInput}>\r\n                        <label>Nome do pipe:</label>\r\n                        <input defaultValue={newPipeName} onChange={(e) => setPipeName(e.target.value)}/>\r\n                    </div>\r\n                </Row>\r\n                <div>\r\n                    <span>\r\n                        O pipe será criado somente com uma fase vazia.\r\n                    </span>\r\n                </div>\r\n            </Spin>\r\n        </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PipeCenter\r\n"],"sourceRoot":""}